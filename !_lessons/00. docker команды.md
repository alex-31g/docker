## 00. Docker команды

- `docker --version` узнать версию docker на текущей машине

- `docker help` справка по коммандам docker

### image (образ)

- `docker build -t [image-name] .` создать образ, где:
  - `-t` флаг, которому присваиваем имя образа - 'image-name' 
  - `.` путь, относительно которого мы будем собирать приложение (точка - это текущая директория)

- `docker images` просмотреть существующие образы

- `docker images | grep hello` просмотреть существующие образы, в имени которых присутствует слово 'hello'

- `docker images -q` просмотреть только id существующих образов

- `docker image rm [image-name]` удалить образ с именем 'image-name'

- `docker rmi [image-name]` удалить образ с именем 'image-name'

- `docker rmi $(docker images -q)` удалить все образы

- `docker pull [image-name]` скачать образ с именем из dockerhub 

---
### docker run - запуск контейнера
### Флаги --name -d --rm

- `docker run [image-name]` запустить контейнер на базе 'image-name' образа

- `docker run --name [container-name] [image-name]` запустить контейнер (присвоив ему имя 'container-name') на базе 'image-name' образа

- `docker run --name [container-name] -d [image-name]` запустить контейнер (присвоив ему имя 'container-name') на базе 'image-name' образа. Флаг -d говорит, что контейнер будет запущен в фоновом режиме - то-есть консоль будет доступна для работы. Без этого флага консоль будет ожидать завершения работы контейнера

- `docker run --name [container-name] --rm [image-name]` запустить контейнер (присвоив ему имя 'container-name') на базе 'image-name' образа. После завершения работы контейнера или в случаи его остановки - контейнер самостоятельно удалится

---
### Проброс портов контейнера наружу   
### Прикрепление хостовой папки к контейнеру (VOLUME)

- `docker run --name [container-name] --rm -d -p [p1]:[p2] -v [arg1]:[arg2] [image-name]`   

  Где:   

  - `-p [p1]:[p2]` - привязываем порт хоста 'p1' к порту контейнера 'p2' (таким образом, подключение к контейнеру из внешнего мира будет происходить по порту 'p1') 

  - `-v [arg1]:[arg2]` - прикрепляем хостовую папку с абсолютным путем 'arg1' внутрь папки контейнера с абсолютным путем 'arg2'  

---
### docker ps - просмотр списка контейнеров
### Флаги -a -q

- `docker ps` просмотреть все запущенные контейнеры

- `docker ps -q` просмотреть только id запущенных контейнеров

- `docker ps -a` просмотреть все контейнеры - запущенные и остановленные

- `docker ps -a -q` просмотреть только id всех контейнеров - запущенных и остановленных

---
### docker rm - удаление контейнера (перед выполнением этой команды, контейнер должен быть остановлен)

- `docker rm [container-id]` удалить контейнер по id

- `docker rm [container-name]` удалить контейнер по имени

- `docker rm $(docker ps -a -q)` удалить все контейнеры

---
### docker kill - удаление контейнера без завершения процесса его работы

- `docker kill [container-id]` удалить контейнер по id без остановки

- `docker kill [container-name]` удалить контейнер по имени без остановки

- `docker kill $(docker ps -a -q)` удалить все контейнеры без остановки

---
### docker stop - остановка контейнера

- `docker stop [container-id]` остановить контейнер по id

- `docker stop [container-name]` остановить контейнер по имени

- `docker stop $(docker ps -a -q)` остановить все контейнеры 

---
### Вход внутрь контейнера

- `docker exec -it [container-name] bash` вход в контейнер

- `docker exec -it [container-name] sh` вход в контейнер

- `exit` выход из контейнера

---
### Просмотр логов контейнера

- `docker logs [container-name]`

---